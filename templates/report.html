{% extends "base.html" %}
{% block content %}

<h2>Monthly Report</h2>

<!-- Month Selector -->
<form method="GET" action="/report">
    <label>Select Month: </label>
    <input type="month" name="month" value="{{ month }}">
    <button class="btn" type="submit">View</button>
</form>

<br>

<h3>Report for {{ month }}</h3>
<p><strong>Total Spent:</strong> â‚¹{{ total_spent }}</p>

<h4>Category Breakdown</h4>

<table border="1" cellpadding="5">
    <tr>
        <th>Category</th>
        <th>Budget</th>
        <th>Spent</th>
        <th>Remaining</th>
    </tr>

    {% for b in budgets %}
    <tr>
        <td>{{ b.category }}</td>
        <td>{{ b.amount }}</td>
        <td>{{ spend_by_category.get(b.category, 0) }}</td>
        <td>{{ b.amount - spend_by_category.get(b.category, 0) }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
